<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>  Teaching a Computer to Read:: NLP Hacking in Python</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="http://blog.scripted.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Content Marketing Blog | Scripted.com &raquo; Feed" href="http://blog.scripted.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Content Marketing Blog | Scripted.com &raquo; Comments Feed" href="http://blog.scripted.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Content Marketing Blog | Scripted.com &raquo; Teaching a Computer to Read: &lt;small class=&quot;subtitle&quot;&gt;NLP Hacking in Python&lt;/small&gt; Comments Feed" href="http://blog.scripted.com/staff/nlp-hacking-in-python/feed/" />
<link rel='stylesheet' id='socialshare-styles-css'  href='http://blog.scripted.com/wp-content/plugins/SocialShare/Styles.css?ver=1' type='text/css' media='screen' />
<link rel='stylesheet' id='crayon-css'  href='http://blog.scripted.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.3.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='http://blog.scripted.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=2.3.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://blog.scripted.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.3.1' type='text/css' media='all' />
<link rel='stylesheet' id='pinboard-web-font-css'  href='http://fonts.googleapis.com/css?family=Open+Sans:300,300italic,regular,italic,600,600italic|Oswald:300,300italic,regular,italic,600,600italic&#038;subset=latin' type='text/css' media='all' />
<link rel='stylesheet' id='pinboard-css'  href='http://blog.scripted.com/wp-content/themes/scripted-blog/style.css' type='text/css' media='all' />
<link rel='stylesheet' id='colorbox-css'  href='http://blog.scripted.com/wp-content/themes/scripted-blog/styles/colorbox.css' type='text/css' media='all' />
<link rel='stylesheet' id='mediaelementplayer-css'  href='http://blog.scripted.com/wp-content/themes/scripted-blog/styles/mediaelementplayer.css' type='text/css' media='all' />
	<!--[if lt IE 9]>
	<script src="http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/html5.js" type="text/javascript"></script>
	<![endif]-->
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/jquery.js?ver=1.10.2'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.2.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var quicktagsL10n = {"closeAllOpenTags":"Close all open tags","closeTags":"close tags","enterURL":"Enter the URL","enterImageURL":"Enter the URL of the image","enterImageDescription":"Enter a description of the image","fullscreen":"fullscreen","toggleFullscreen":"Toggle fullscreen mode","textdirection":"text direction","toggleTextdirection":"Toggle Editor Text Direction"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/quicktags.min.js?ver=3.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.3.1","is_admin":"0","ajaxurl":"http:\/\/blog.scripted.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
var CrayonTagEditorSettings = {"home_url":"http:\/\/blog.scripted.com","css":"crayon-te","css_selected":"crayon-selected","code_css":"#crayon-code","url_css":"#crayon-url","url_info_css":"#crayon-te-url-info","lang_css":"#crayon-lang","title_css":"#crayon-title","mark_css":"#crayon-mark","range_css":"#crayon-range","inline_css":"crayon-inline","inline_hide_css":"crayon-hide-inline","inline_hide_only_css":"crayon-hide-inline-only","hl_css":"#crayon-highlight","switch_html":"#content-html","switch_tmce":"#content-tmce","tinymce_button":"a.mce_crayon_tinymce","submit_css":"#crayon-te-ok","cancel_css":"#crayon-te-cancel","content_css":"#crayon-te-content","dialog_title_css":"#crayon-te-title","submit_wrapper_css":"#crayon-te-submit-wrapper","data_value":"data-value","attr_sep":":","css_sep":"_","fallback_lang":"default","dialog_title_add":"Add Crayon Code","dialog_title_edit":"Edit Crayon Code","submit_add":"Add","submit_edit":"Save","bar":"#crayon-te-bar","bar_content":"#crayon-te-bar-content","extensions":{"scpt":"applescript","applescript":"applescript","swf":"as","fla":"as","cs":"c#","h":"c++","hh":"c++","hpp":"c++","hxx":"c++","h++":"c++","cc":"c++","cpp":"c++","cxx":"c++","c++":"c++","pas":"delphi","java":"java","class":"java","jar":"java","mv":"miva","mvc":"miva","mvt":"miva","m":"objc","mm":"objc","pl":"perl","py":"python","pyw":"python","pyc":"python","pyo":"python","pyd":"python","rb":"ruby","rbx":"ruby","rhtml":"ruby","vbs":"vb"}};
var CrayonSyntaxSettings = {"version":"2.3.1","is_admin":"0","ajaxurl":"http:\/\/blog.scripted.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.te.min.js?ver=2.3.1'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/ios-orientationchange-fix.js'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/jquery.flexslider-min.js'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/fitvids.js'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mejsL10n = {"language":"en-US","strings":{"Close":"Close","Fullscreen":"Fullscreen","Download File":"Download File","Download Video":"Download Video","Play\/Pause":"Play\/Pause","Mute Toggle":"Mute Toggle","None":"None","Turn off Fullscreen":"Turn off Fullscreen","Go Fullscreen":"Go Fullscreen","Unmute":"Unmute","Mute":"Mute","Captions\/Subtitles":"Captions\/Subtitles"}};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/mediaelement/mediaelement-and-player.min.js?ver=2.13.0'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/mediaelementplayer.js'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/colorbox.js'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/comment-reply.min.js?ver=3.6.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.scripted.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.scripted.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Emotions for Sale: Creating Emotional Connections' href='http://blog.scripted.com/content-marketing-2/tips-and-tricks/emotions-for-sale-creating-emotional-connections/' />
<link rel='next' title='Content Marketing Discussions Luca Penati, Hunter Walk, and Semil Shah' href='http://blog.scripted.com/staff/events/content-marketing-discussions/' />
<meta name="generator" content="WordPress 3.6.1" />
<link rel='canonical' href='http://blog.scripted.com/staff/nlp-hacking-in-python/' />
<link rel='shortlink' href='http://blog.scripted.com/?p=1983' />
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-3196267-4']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

<!-- Typekit JS code -->
<script type="text/javascript" src="https://use.typekit.com/oqe4yme.js"></script>
<script type="text/javascript">try{Typekit.load();}catch(e){}</script>
<!-- Typekit JS code end -->
<!-- wp-parsely Plugin Version 1.5 -->
<meta name='wp-parsely_version' id='wp-parsely_version' content='1.5' />
<meta name='parsely-page' id='parsely-page' content='{"title":"Teaching a Computer to Read: NLP Hacking in Python","link":"http:\/\/blog.scripted.com\/staff\/nlp-hacking-in-python\/","image_url":"http:\/\/blog.scripted.com\/wp-content\/uploads\/2013\/09\/coding-pen-150x150.jpg","type":"post","post_id":"WP-1983","pub_date":"2013-09-26T16:36:18Z","section":"Development","author":"Murad Salahi","tags":[]}' />
<script>
/* <![CDATA[ */
	jQuery(document).ready(function($) {
		$('#access .menu > li > a').each(function() {
			var title = $(this).attr('title');
			if(typeof title !== 'undefined' && title !== false) {
				$(this).append('<br /> <span>'+title+'</span>');
				$(this).removeAttr('title');
			}
		});
		function pinboard_move_elements(container) {
			if( container.hasClass('onecol') ) {
				var thumb = $('.entry-thumbnail', container);
				if('undefined' !== typeof thumb)
					$('.entry-container', container).before(thumb);
				var video = $('.entry-attachment', container);
				if('undefined' !== typeof video)
					$('.entry-container', container).before(video);
				var gallery = $('.post-gallery', container);
				if('undefined' !== typeof gallery)
					$('.entry-container', container).before(gallery);
				var meta = $('.entry-meta', container);
				if('undefined' !== typeof meta)
					$('.entry-container', container).after(meta);
			}
		}
		function pinboard_restore_elements(container) {
			if( container.hasClass('onecol') ) {
				var thumb = $('.entry-thumbnail', container);
				if('undefined' !== typeof thumb)
					$('.entry-header', container).after(thumb);
				var video = $('.entry-attachment', container);
				if('undefined' !== typeof video)
					$('.entry-header', container).after(video);
				var gallery = $('.post-gallery', container);
				if('undefined' !== typeof gallery)
					$('.entry-header', container).after(gallery);
				var meta = $('.entry-meta', container);
				if('undefined' !== typeof meta)
					$('.entry-header', container).append(meta);
				else
					$('.entry-header', container).html(meta.html());
			}
		}
		if( ($(window).width() > 960) || ($(document).width() > 960) ) {
			// Viewport is greater than tablet: portrait
		} else {
			$('#content .post').each(function() {
				pinboard_move_elements($(this));
			});
		}
		$(window).resize(function() {
			if( ($(window).width() > 960) || ($(document).width() > 960) ) {
									$('.page-template-template-full-width-php #content .post, .page-template-template-blog-full-width-php #content .post, .page-template-template-blog-four-col-php #content .post').each(function() {
						pinboard_restore_elements($(this));
					});
							} else {
				$('#content .post').each(function() {
					pinboard_move_elements($(this));
				});
			}
			if( ($(window).width() > 760) || ($(document).width() > 760) ) {
				var maxh = 0;
				$('#access .menu > li > a').each(function() {
					if(parseInt($(this).css('height'))>maxh) {
						maxh = parseInt($(this).css('height'));
					}
				});
				$('#access .menu > li > a').css('height', maxh);
			} else {
				$('#access .menu > li > a').css('height', 'auto');
			}
		});
		if( ($(window).width() > 760) || ($(document).width() > 760) ) {
			var maxh = 0;
			$('#access .menu > li > a').each(function() {
				var title = $(this).attr('title');
				if(typeof title !== 'undefined' && title !== false) {
					$(this).append('<br /> <span>'+title+'</span>');
					$(this).removeAttr('title');
				}
				if(parseInt($(this).css('height'))>maxh) {
					maxh = parseInt($(this).css('height'));
				}
			});
			$('#access .menu > li > a').css('height', maxh);
							$('#access li').mouseenter(function() {
					$(this).children('ul').css('display', 'none').stop(true, true).fadeIn(250).css('display', 'block').children('ul').css('display', 'none');
				});
				$('#access li').mouseleave(function() {
					$(this).children('ul').stop(true, true).fadeOut(250).css('display', 'block');
				});
					} else {
			$('#access li').each(function() {
				if($(this).children('ul').length)
					$(this).append('<span class="drop-down-toggle"><span class="drop-down-arrow"></span></span>');
			});
			$('.drop-down-toggle').click(function() {
				$(this).parent().children('ul').slideToggle(250);
			});
		}
						$('audio,video').mediaelementplayer({
			videoWidth: '100%',
			videoHeight: '100%',
			audioWidth: '100%',
			alwaysShowControls: true,
			features: ['playpause','progress','tracks','volume'],
			videoVolume: 'horizontal'
		});
		$(".entry-attachment, .entry-content").fitVids({ customSelector: "iframe, object, embed"});
	});
	jQuery(window).load(function() {
					jQuery('.entry-content a[href$=".jpg"],.entry-content a[href$=".jpeg"],.entry-content a[href$=".png"],.entry-content a[href$=".gif"],a.colorbox').colorbox();
			});
/* ]]> */
</script>
<style type="text/css">
																																											</style>
<style type="text/css">
	#site-title a,
	#site-description {
		color:#333;
	}
</style>
<link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet'>
<script type="text/javascript" src="http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/functions.js"></script>
</head>

<body class="single single-post postid-1983 single-format-standard">
    <div style="background-color: #3A4049;">
    <div id="navigation">
        <div class="container">
          <div class="row">
            <div class="span12">
                  <nav>
                      <div id="logo">
                          <a href="http://blog.scripted.com/" title="Content Marketing Blog | Scripted.com">Scripted</a>
                      </div>
                      
                       <div class="menu-main_navigation-container"><ul id="menu-main_navigation" class="menu"><li id="menu-item-3104" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3104"><a href="http://blog.scripted.com/category/content-marketing-2/">CONTENT MARKETING</a></li>
<li id="menu-item-2086" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2086"><a href="http://blog.scripted.com/category/staff/">SCRIPTED</a></li>
<li id="menu-item-2085" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-2085"><a href="http://blog.scripted.com/category/staff/dev/">ENGINEERING</a></li>
</ul></div>                       <div class="clear"></div>
                       <div class="moveToSd">
                            <form role="search" method="get" id="searchform" action="http://blog.scripted.com//" >
                                    <input type="text" value="" placeholder="Search our blog&#8230;" name="s" id="s" />
                                    <input type="submit" id="searchsubmit" value="Search" />
                            </form>
                        </div>
                       <div class="clear"></div>
                       
                  </nav><!-- #access -->
            </div>
          </div>
            
        </div>
    </div>
    
        <div id="splash" class="splash-thinner">
        <div class="container">
          <div class="row">
              <div class="span12">
              <div class="wrapper">
                <h1>
                  Teaching a Computer to Read: <small class="subtitle">NLP Hacking in Python</small>                </h1>
                                </div>
            </div>
          </div>
        </div>
      </div>
          </div>
	<div id="wrapper">
		
	<div id="container">
		<section id="content" class="column twothirdcol">
							<article class="post-1983 post type-post status-publish format-standard hentry category-dev category-staff column onecol" id="post-1983">
					<div class="entry">
						<header class="entry-header">
							<h1 class="entry-title">Teaching a Computer to Read: <small class="subtitle">NLP Hacking in Python</small></h1>
									<aside class="entry-meta">
							<span class="entry-author-link"><a href="http://blog.scripted.com/author/murad/" title="Posts by Murad" rel="author">Murad</a></span>
									<span class="entry-date">September 26, 2013</span>
												<span class="entry-category"><a href="http://blog.scripted.com/category/staff/dev/" title="View all posts in Development" rel="category tag">Development</a>, <a href="http://blog.scripted.com/category/staff/" title="View all posts in Staff" rel="category tag">Staff</a></span>
																		<div class="clear"></div>
		</aside><!-- .entry-meta -->
							</header><!-- .entry-header -->
                                                <!--		<figure class="entry-thumbnail">
			<a href="http://blog.scripted.com/staff/nlp-hacking-in-python/" rel="bookmark" title="Teaching a Computer to Read: NLP Hacking in Python">
                            <img src="http://blog.scripted.com/wp-content/themes/scripted-blog/scripts/thumb.php?src=http://blog.scripted.com/wp-content/uploads/2013/09/coding-pen.jpg&amp;w=400&amp;h=300&amp;zc=1&amp;q=100" />                            
							</a>
		</figure>
	 deleted RB per regina request -->
						<div class="entry-content">
														<h1></h1>
<p>Scripted recently released a new feature called <span style="text-decoration: underline;"><a title="Scripted Experts" href="https://scripted.com/experts" target="_blank"><b>Experts</b></a></span>,<b> </b>which allows us to efficiently and confidently group together expert writers in a given subject, the idea being that a business looking for experts in that field can easily find writers who are highly qualified (as both a writer and a domain expert) to write about it. Part of what determines whether a writer is a good fit for an Expert team is knowing how many pieces they&#8217;ve written about that team&#8217;s subject matter. This entailed an interesting machine learning problem&#8230;</p>
<h2>The Problem</h2>
<blockquote><p><em>How can I get a computer to tell me what an article is about (provided methods such as bribery and asking politely do not work)?</em></p></blockquote>
<p>To formally explain the problem as well as the proposed solution to it, I&#8217;m going to stay fairly high-level and use a toy example, with links to resources for further reading and a disclaimer that in reality you would need a dataset consisting of more than four samples to actually make any of this work (<em>like a lot more&#8230;</em>).</p>
<p>For the sake of this example, imagine we are engineers at a much tinier version of Scripted, with only four pieces of writing in our system, the titles of which are:</p>
<p style="text-align: center;"><em style="font-size: 15px; text-align: center;">&#8220;The Perfect Panini&#8221;</em><br />
<em style="font-size: 15px; text-align: center;">&#8220;Sandwich Sorcery&#8221;</em><br />
<em style="font-size: 15px; text-align: center;">&#8220;Boston Terriers: Friend or Foe?&#8221;</em><br />
<em style="font-size: 15px; text-align: center;">&#8220;How to Tell if your Dog is a Dog and not a Cat&#8221;</em></p>
<p><em>Note: These four documents, in the language of natural language processing, are known as a &#8216;corpus&#8217;. You can think of this as a collection of written documents that we want a computer to learn from. </em></p>
<p>As imaginary employees of tiny Scripted, we&#8217;ve noticed that many clients are looking for writers who are experts in the fields of dogs and sandwiches to produce content for them. Accordingly, we make a &#8220;Dogs&#8221; team and a &#8220;Sandwiches&#8221; team. The question now is, which documents belong on which team?</p>
<p style="text-align: center;"><a href="http://blog.scripted.com/uncategorized/computerz/attachment/ds/" rel="attachment wp-att-2049"><img class="size-medium wp-image-2049 aligncenter" alt="Dog vs. Sandwich" src="http://blog.scripted.com/wp-content/uploads/2013/01/ds-300x107.png" width="300" height="107" /></a></p>
<h2>Describing Documents</h2>
<p>Imagine you&#8217;re playing a guessing game with someone. You provide your partner with a list of animals, and a list of attributes about each animal. You describe a domesticated animal that is furry, says &#8216;meow,&#8217; and is prominently featured on the internet. Based on these clues, and the information you initially supplied, the person you&#8217;re playing with guesses &#8220;cat.&#8221;</p>
<p>This is pretty much the same process our algorithm will use (<i>this task is actually a very familiar one to anyone who&#8217;s dabbled in machine learning, and is known formally as </i><a href="http://en.wikipedia.org/wiki/Statistical_classification"><i>classification</i></a>). To put it a bit more formally and relate it to our specific problem,<i> </i>we want the process of putting a document on a team to eventually look like:</p>
<ol>
<li>Extracting features from the document which are known to us</li>
<li>Using these features to describe the document to the system</li>
<li>Having the system guess which team that document belongs to based on that description.</li>
</ol>
<p>First thing&#8217;s first. We need a way to numerically describe documents to a computer so that we can tell how similar two documents are to each other. You can think of this as a mapping from a document to a point in space such that the closer two of these points are to each other the more similar their documents corresponding to those points are. Thinking of documents as vectors in this way is formally known as the <a href="http://en.wikipedia.org/wiki/Vector_space_model">Vector Space Model.</a></p>
<div id="attachment_2046" class="wp-caption aligncenter" style="width: 310px"><a href="http://blog.scripted.com/uncategorized/computerz/attachment/cap/" rel="attachment wp-att-2046"><img class="size-medium wp-image-2046     " alt="Fig. 1. A two-dimensional vector space illustrating the concept of considering document similarity in terms of Euclidean Distance. All the dots represent " src="http://blog.scripted.com/wp-content/uploads/2013/01/cap-300x176.png" width="300" height="176" /></a><p class="wp-caption-text">Fig. 1. A two-dimensional vector space illustrating the concept of considering document similarity in terms of Euclidean Distance. All the dots represent documents. The small red dots represent the documents most similar to the large red dot in the middle.</p></div>
<p>A common way to represent a written document as a vector is to think about it in terms of <a href="http://en.wikipedia.org/wiki/Bag-of-words_model">&#8220;Bag of Words&#8221;</a> (BoW) vectors. These are vectors of word counts where each slot in the vector represents the number of times a certain word was used. The list of all the words we keep track of in these vectors is known as our <i>vocabulary</i>.</p>
<p>Let&#8217;s say that our entire vocabulary consists of only the words &#8220;dog&#8221; and &#8220;cat.&#8221; Then a BoW vector of a document with this vocabulary would be:</p>
<p style="text-align: center;"><strong>&lt;# Times &#8216;dog&#8217; was used in doc, #Times &#8216;cat&#8217; was used in doc&gt;</strong></p>
<p>For example, the text <code>"dog cat cat dog dog"</code> would be represented as the vector <code>&lt;3,2&gt;</code>. This pattern holds for larger documents and vocabularies. Now that we have some understanding of the vector space model, we can get cracking on some code.</p>
<h2>Setup</h2>
<p>The entirety of the code covered in this tutorial can be found <a href="https://github.com/Scripted/NLP-Tutorial">here</a>. We&#8217;re going to be working in Python, and will use the following modules to make our lives way easier:</p>
<ul>
<li><a href="http://www.numpy.org/">Numpy</a> - The goto Python library for fast numerical computing.</li>
<li><a href="http://www.scipy.org/">Scipy</a> - A scientific computing module with loads of functionality built on top of Numpy.</li>
<li><a href="http://radimrehurek.com/gensim/">Gensim</a> - &#8220;Topic Modeling for Humans&#8221;</li>
<li><a href="http://scikit-learn.org/stable/">Scikit-Learn</a> - Machine learning library for Python also built on top of Numpy.</li>
</ul>
<p>I&#8217;m assuming you have <b><a href="http://pypi.python.org/pypi/pip">pip</a> </b>and<b> </b><a href="http://git-scm.com/">git</a> installed. If this isn&#8217;t the case, you should definitely start there, as these tools are super useful for developers. First thing we want to do with those installed is grab a local copy of the tutorial&#8217;s source code:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86cf2680330981" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
git clone https://github.com/Scripted/NLP-Tutorial</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86cf2680330981-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86cf2680330981-1"><span class="crayon-e">git </span><span class="crayon-r">clone</span><span class="crayon-h"> </span><span class="crayon-i">https</span><span class="crayon-o">:</span><span class="crayon-c">//github.com/Scripted/NLP-Tutorial</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>Now, we need to install the dependencies. In a perfect world, running <code>pip install -r requirements.txt</code> in the <b>NLP-Tutorial</b> directory would take care of all of this for you. Unfortunately, Numpy and Scipy can be tricky to install. You might want to try installing each individually in the following order:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d08574836872" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
pip install numpy
pip install scipy
pip install gensim
pip install scikit-learn</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d08574836872-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d08574836872-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d08574836872-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d08574836872-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d08574836872-1"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-e">numpy</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d08574836872-2"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-e">scipy</span></div><div class="crayon-line" id="crayon-525096ee86d08574836872-3"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-e">gensim</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d08574836872-4"><span class="crayon-e">pip </span><span class="crayon-e">install </span><span class="crayon-i">scikit</span><span class="crayon-o">-</span><span class="crayon-i">learn</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>To test whether your installation was successful, run <code>python classifier.py</code>. If it doesn&#8217;t give you any errors, then you&#8217;re all set! If not, just follow the links I provided above next to each dependency and follow their installation instructions.</p>
<h2>The Code</h2>
<p>Now that you&#8217;re all set up, let&#8217;s switch gears back to the algorithm. Recall that the first step of the process we described was to turn documents into vectors. Let&#8217;s look at how to actually do that in code. We&#8217;ll start by pulling in all our dependencies.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d12016757497" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
import warnings
warnings.filterwarnings('ignore', category=DeprecationWarning)
from math import sqrt
import gensim
from sklearn.svm import SVC
import os</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d12016757497-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d12016757497-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d12016757497-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d12016757497-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d12016757497-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d12016757497-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d12016757497-1"><span class="crayon-e">import </span><span class="crayon-e">warnings</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d12016757497-2"><span class="crayon-v">warnings</span><span class="crayon-sy">.</span><span class="crayon-e">filterwarnings</span><span class="crayon-sy">(</span><span class="crayon-s">'ignore'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">category</span><span class="crayon-o">=</span><span class="crayon-i">DeprecationWarning</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d12016757497-3"><span class="crayon-e">from </span><span class="crayon-e">math </span><span class="crayon-e">import </span><span class="crayon-e">sqrt</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d12016757497-4"><span class="crayon-e">import </span><span class="crayon-e">gensim</span></div><div class="crayon-line" id="crayon-525096ee86d12016757497-5"><span class="crayon-e">from </span><span class="crayon-v">sklearn</span><span class="crayon-sy">.</span><span class="crayon-e">svm </span><span class="crayon-e">import </span><span class="crayon-e">SVC</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d12016757497-6"><span class="crayon-e">import </span><span class="crayon-i">os</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p>Now that we&#8217;ve got all the resources we need, we start by loading in our corpus. If you recall, a <i>corpus</i> is a collection of documents we wish to learn from and work with in the context of an NLP algorithm. I&#8217;ve provided a toy corpus in the repository which is aptly named&#8230; &#8220;<em>corpus.</em>&#8220;<i> </i>This directory contains the following four documents:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d1b743152185" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
dog1.txt - "dog runs and barks at dog"
dog2.txt - "the dog runs and barks at the apatosaurus"
sandwich1.txt - "a sandwich of cheese and meat and bread and cheese is 
                   supercalifragilisticexpialidocious"
sandwich2.txt - "the sandwich of meat and meat and cheese and meat"</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d1b743152185-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d1b743152185-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d1b743152185-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d1b743152185-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d1b743152185-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d1b743152185-1"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"dog runs and barks at dog"</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d1b743152185-2"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"the dog runs and barks at the apatosaurus"</span></div><div class="crayon-line" id="crayon-525096ee86d1b743152185-3"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"a sandwich of cheese and meat and bread and cheese is </span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d1b743152185-4"><span class="crayon-s">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supercalifragilisticexpialidocious"</span></div><div class="crayon-line" id="crayon-525096ee86d1b743152185-5"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"the sandwich of meat and meat and cheese and meat"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0016 seconds] -->
<p>You might astutely observe that these documents are unrealistically simple, contain a very limited vocabulary, and no punctuation. Yup, that&#8217;s by design. This toy corpus was <i>meticulously</i> designed by yours truly to demonstrate certain aspects of the process, while not getting mired in the gritty details of practical application.</p>
<p>While things like cleaning punctuation, HTML, and URL&#8217;s out of your text and <a href="http://nlp.stanford.edu/IR-book/html/htmledition/stemming-and-lemmatization-1.html">lemmatization</a> are absolutely things you should look into for a &#8220;real world&#8221; application, they are definitely low-level details that distract us from the high level process. <b>What we ultimately want all of these things to do is split a block of text into words.</b></p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d24408339948" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
if __name__ == '__main__':
    #Load in corpus, remove newlines, make strings lower-case
    docs = {}
    corpus_dir = 'corpus'
    for filename in os.listdir(corpus_dir):
        path = os.path.join(corpus_dir, filename)
        doc = open(path).read().strip().lower()
        docs[filename] = doc
    names = docs.keys()

    #Remove stopwords and split on spaces
    print "\n---Corpus with Stopwords Removed---"
    stop = ['the', 'of', 'a', 'at', 'is']
    preprocessed_docs = {}
    for name in names:
        text = docs[name].split()
        preprocessed = [word for word in text if word not in stop]
        preprocessed_docs[name] = preprocessed
        print name, ":", preprocessed</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d24408339948-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-6">6</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-8">8</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-10">10</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-12">12</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-14">14</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-16">16</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d24408339948-18">18</div><div class="crayon-num" data-line="crayon-525096ee86d24408339948-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d24408339948-1"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-v">__name__</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'__main__'</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-2">    <span class="crayon-p">#Load in corpus, remove newlines, make strings lower-case</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-3">    <span class="crayon-v">docs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-4">    <span class="crayon-v">corpus_dir</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'corpus'</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-5">    <span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">filename </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">listdir</span><span class="crayon-sy">(</span><span class="crayon-i">corpus_dir</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-6">        <span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">join</span><span class="crayon-sy">(</span><span class="crayon-i">corpus_dir</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">filename</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-7">        <span class="crayon-v">doc</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-i">path</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">lower</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-8">        <span class="crayon-v">docs</span><span class="crayon-sy">[</span><span class="crayon-i">filename</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">doc</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-9">    <span class="crayon-v">names</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">docs</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-10">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86d24408339948-11">    <span class="crayon-p">#Remove stopwords and split on spaces</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-12">    <span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\n---Corpus with Stopwords Removed---"</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-13">    <span class="crayon-v">stop</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'the'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'of'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'a'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'at'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-14">    <span class="crayon-v">preprocessed_docs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-15">    <span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">names</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-16">        <span class="crayon-v">text</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-17">        <span class="crayon-v">preprocessed</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">text </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-t">word</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">stop</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d24408339948-18">        <span class="crayon-v">preprocessed_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">preprocessed</span></div><div class="crayon-line" id="crayon-525096ee86d24408339948-19">        <span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">":"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">preprocessed</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0079 seconds] -->
<p>The output so far&#8230;</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d2d568427513" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Corpus with Stopwords Removed---
sandwich2.txt : ['sandwich', 'meat', 'and', 'meat', 'and', 'cheese', 'and', 'meat']
dog2.txt : ['dog', 'runs', 'and', 'barks', 'apatosaurus']
dog1.txt : ['dog', 'runs', 'and', 'barks', 'dog']
sandwich1.txt : ['sandwich', 'cheese', 'and', 'meat', 'and', 'bread', 'and', 'cheese', 'supercalifragilisticexpialidocious']</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d2d568427513-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d2d568427513-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d2d568427513-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d2d568427513-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d2d568427513-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d2d568427513-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">Corpus </span><span class="crayon-e">with </span><span class="crayon-e">Stopwords </span><span class="crayon-i">Removed</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d2d568427513-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'sandwich'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'cheese'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meat'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d2d568427513-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'runs'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'barks'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'apatosaurus'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d2d568427513-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'runs'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'barks'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'dog'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d2d568427513-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'sandwich'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'cheese'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'bread'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'cheese'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'supercalifragilisticexpialidocious'</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0043 seconds] -->
<p>What we&#8217;ve done so far is just some pretty basic Python to read in the documents in our corpus and store them in a <b>dict</b>. All we did to split the blocks of text into lists of words was call the string&#8217;s builtin <b>split </b>method, which for our purposes pretty much just splits on spaces.</p>
<h2><b>Preprocessing</b></h2>
<p>The code also hints at another aspect of NLP called <i>preprocessing</i>. You can think of preprocessing as filtering out words which ultimately don&#8217;t tell us a whole lot about the text. Words such as ['the', 'of', 'a', 'at', 'is'] which appear with great frequency in the vast majority of documents we&#8217;ll ever analyze are called <i>stop words</i> and should definitely be filtered out. Similarly, you might also want to filter out words which appear either extremely frequently, or extremely rarely. This is where <b>gensim</b> comes in handy.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d38913244119" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#Build the dictionary and filter out common/rare terms
    dct = gensim.corpora.Dictionary(preprocessed_docs.values())
    unfiltered = dct.token2id.keys()
    dct.filter_extremes(no_below=2)
    filtered = dct.token2id.keys()
    filtered_out = set(unfiltered) - set(filtered)
    print "\nThe following super common/rare words were filtered out..."
    print list(filtered_out), '\n'
    print "Vocabulary after filtering..."
    print dct.token2id.keys(), '\n'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d38913244119-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d38913244119-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d38913244119-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d38913244119-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d38913244119-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d38913244119-6">6</div><div class="crayon-num" data-line="crayon-525096ee86d38913244119-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d38913244119-8">8</div><div class="crayon-num" data-line="crayon-525096ee86d38913244119-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d38913244119-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d38913244119-1"><span class="crayon-p">#Build the dictionary and filter out common/rare terms</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d38913244119-2">    <span class="crayon-v">dct</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">gensim</span><span class="crayon-sy">.</span><span class="crayon-v">corpora</span><span class="crayon-sy">.</span><span class="crayon-e">Dictionary</span><span class="crayon-sy">(</span><span class="crayon-v">preprocessed_docs</span><span class="crayon-sy">.</span><span class="crayon-e">values</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d38913244119-3">    <span class="crayon-v">unfiltered</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dct</span><span class="crayon-sy">.</span><span class="crayon-v">token2id</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d38913244119-4">    <span class="crayon-v">dct</span><span class="crayon-sy">.</span><span class="crayon-e">filter_extremes</span><span class="crayon-sy">(</span><span class="crayon-v">no_below</span><span class="crayon-o">=</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d38913244119-5">    <span class="crayon-v">filtered</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dct</span><span class="crayon-sy">.</span><span class="crayon-v">token2id</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d38913244119-6">    <span class="crayon-v">filtered_out</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-i">unfiltered</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">set</span><span class="crayon-sy">(</span><span class="crayon-i">filtered</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d38913244119-7">    <span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\nThe following super common/rare words were filtered out..."</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d38913244119-8">    <span class="crayon-e">print </span><span class="crayon-e">list</span><span class="crayon-sy">(</span><span class="crayon-i">filtered_out</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\n'</span></div><div class="crayon-line" id="crayon-525096ee86d38913244119-9">    <span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"Vocabulary after filtering..."</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d38913244119-10">    <span class="crayon-e">print </span><span class="crayon-v">dct</span><span class="crayon-sy">.</span><span class="crayon-v">token2id</span><span class="crayon-sy">.</span><span class="crayon-e">keys</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\n'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0039 seconds] -->
<p>Which outputs&#8230;</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d40854328098" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
The following super common/rare words were filtered out...
['and', 'apatosaurus', 'bread', 'supercalifragilisticexpialidocious'] 

Vocabulary after filtering...
['cheese', 'runs', 'sandwich', 'meat', 'barks', 'dog']</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d40854328098-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d40854328098-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d40854328098-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d40854328098-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d40854328098-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d40854328098-1"><span class="crayon-e">The </span><span class="crayon-e">following </span><span class="crayon-r">super</span><span class="crayon-h"> </span><span class="crayon-i">common</span><span class="crayon-o">/</span><span class="crayon-e">rare </span><span class="crayon-e">words </span><span class="crayon-e">were </span><span class="crayon-e">filtered </span><span class="crayon-v">out</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d40854328098-2"><span class="crayon-sy">[</span><span class="crayon-s">'and'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'apatosaurus'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'bread'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'supercalifragilisticexpialidocious'</span><span class="crayon-sy">]</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-525096ee86d40854328098-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d40854328098-4"><span class="crayon-e">Vocabulary </span><span class="crayon-e">after </span><span class="crayon-v">filtering</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line" id="crayon-525096ee86d40854328098-5"><span class="crayon-sy">[</span><span class="crayon-s">'cheese'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'runs'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'sandwich'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'meat'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'barks'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'dog'</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0022 seconds] -->
<p>To recap, the above code filters out words from our corpus which are too common or too rare to be useful. It does so by leveraging <b>gensim&#8217;s Dictionary</b> class which stores word counts for each term encountered in the corpus. After we feed it all the documents, we tell it to filter out words which are very common (defined by whatever <b>gensim&#8217;s </b>default threshold is) as well as words which occur only once. This leaves us with only six words in our vocabulary: ['cheese', 'runs', 'sandwich', 'meat', 'barks', 'dog'] . All words not in the vocabulary are ignored from here on out.</p>
<p>At this point, we&#8217;ve got all we need to start bringing bag of words vectors into the picture.</p>
<h2>From Texts to Vectors</h2>
<p>From this point on, we&#8217;ll be thinking about documents as vectors. That handy <b>Dictionary</b> class we used above for preprocessing also contains functionality to take a list of words, compute word counts for words in our vocabulary, and return the corresponding bag of words vectors.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d4a140296023" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#Build Bag of Words Vectors out of preprocessed corpus
    print "---Bag of Words Corpus---"

    bow_docs = {}
    for name in names:

        sparse = dct.doc2bow(preprocessed_docs[name])
        bow_docs[name] = sparse
        dense = vec2dense(sparse, num_terms=len(dct))
        print name, ":", dense</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d4a140296023-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d4a140296023-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d4a140296023-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d4a140296023-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d4a140296023-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d4a140296023-6">6</div><div class="crayon-num" data-line="crayon-525096ee86d4a140296023-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d4a140296023-8">8</div><div class="crayon-num" data-line="crayon-525096ee86d4a140296023-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d4a140296023-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d4a140296023-1"><span class="crayon-p">#Build Bag of Words Vectors out of preprocessed corpus</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d4a140296023-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"---Bag of Words Corpus---"</span></div><div class="crayon-line" id="crayon-525096ee86d4a140296023-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d4a140296023-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bow_docs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-525096ee86d4a140296023-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">names</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d4a140296023-6">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86d4a140296023-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sparse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dct</span><span class="crayon-sy">.</span><span class="crayon-e">doc2bow</span><span class="crayon-sy">(</span><span class="crayon-v">preprocessed_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d4a140296023-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bow_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">sparse</span></div><div class="crayon-line" id="crayon-525096ee86d4a140296023-9"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dense</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">vec2dense</span><span class="crayon-sy">(</span><span class="crayon-i">sparse</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">num_terms</span><span class="crayon-o">=</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-i">dct</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d4a140296023-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">":"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">dense</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0029 seconds] -->
<p><em>Note: vec2dense is just a helper function I wrote to convert vectors to a more familiar format for display purposes</em></p>
<p>Here are the resulting bag of words vectors</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d53288997848" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Bag of Words Corpus---
sandwich2.txt : [1.0, 0.0, 1.0, 3.0, 0.0, 0.0]
dog2.txt : [0.0, 1.0, 0.0, 0.0, 1.0, 1.0]
dog1.txt : [0.0, 1.0, 0.0, 0.0, 1.0, 2.0]
sandwich1.txt : [2.0, 0.0, 1.0, 1.0, 0.0, 0.0]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d53288997848-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d53288997848-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d53288997848-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d53288997848-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d53288997848-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d53288997848-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">Bag </span><span class="crayon-e">of </span><span class="crayon-e">Words </span><span class="crayon-i">Corpus</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d53288997848-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d53288997848-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d53288997848-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d53288997848-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">2.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0040 seconds] -->
<p>There we go &#8212; our documents expressed as points in 6-dimensional space. For a practical application, working with 6-dimensional data is pretty damn reasonable. However, one can imagine a scenario where our corpus is composed of hundreds of thousands of documents which sample from a much more extensive vocabulary (like say the entire English language). Even after removing stop words, and exceedingly common/rare terms we are left with bag of words vectors with upwards of 50,000 unique word-counts/dimensions to keep track of. This should make the data nerd in you uncomfortable.</p>
<h2>The Curse of Dimensionality</h2>
<p>There are all kinds of terrible things that happen as the dimensionality of your descriptor vectors rises. One obvious one is that as the dimensionality rises, both the time and space complexity of dealing with these vectors rises, often exponentially.</p>
<p>Another issue is that as dimensionality rises, the amount of samples needed to draw useful conclusions from that data also rises steeply. Another way of phrasing that is with a fixed number of samples, the usefulness of each dimension diminishes. Finally, as the dimensionality rises, your points all tend to start becoming equidistant to each other, making it difficult to draw solid conclusions from them. The umbrella term that covers all these adverse effects of high dimensionality is &#8220;<a href="http://en.wikipedia.org/wiki/Curse_of_dimensionality">the curse of dimensionality</a>.&#8221;</p>
<h2>The Remedy</h2>
<p>Fortunately, there&#8217;s a whole family of techniques called <i>dimensionality reduction techniques </i>which are entirely geared toward bringing down the number of dimensions in our descriptor vectors to something more reasonable. While the low level details often entail fairly advanced mathematics, the high level ideas behind the techniques are quite intuitive (also, the low-level details are often implemented for you, like in <b>gensim</b>).</p>
<p>Let&#8217;s look at those bag of words vectors again.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d5e276608364" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Bag of Words Corpus---
sandwich2.txt : [1.0, 0.0, 1.0, 3.0, 0.0, 0.0]
dog2.txt : [0.0, 1.0, 0.0, 0.0, 1.0, 1.0]
dog1.txt : [0.0, 1.0, 0.0, 0.0, 1.0, 2.0]
sandwich1.txt : [2.0, 0.0, 1.0, 1.0, 0.0, 0.0]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d5e276608364-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d5e276608364-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d5e276608364-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d5e276608364-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d5e276608364-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d5e276608364-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">Bag </span><span class="crayon-e">of </span><span class="crayon-e">Words </span><span class="crayon-i">Corpus</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d5e276608364-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">3.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d5e276608364-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d5e276608364-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d5e276608364-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">2.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0040 seconds] -->
<p>Notice that certain dimensions are highly correlated with one another. For example, in both <b>dog1.txt </b>and <b>dog2.txt</b>,<b> </b>the first, third, and fourth values all seem to occur together. In terms of the text, this means that the terms &#8216;dog,&#8217; &#8216;runs,&#8217; and &#8216;barks&#8217; frequently seem to occur together. In that case, maybe rather than thinking of our documents in terms of individual word counts, we should be thinking about them in terms of topics (or groups of words that occur together).</p>
<p>Dimensionality reduction techniques help us do exactly that. They math-magically (it&#8217;s a technical term, I promise) express our high dimensional data in a lower dimensional space. The only manual bit that many of them feature is that you need to specify how many dimensions the lower-dimensional space should feature. Unfortunately, there&#8217;s no algorithm that I know of that can look at your data and auto-detect the perfect dimensionality to reduce to. In most cases, there&#8217;s not even a clearcut solution to that problem were you to ask a human. <b>Fortunately</b>, this silly toy corpus isn&#8217;t most cases &#8212; it&#8217;s an especially trivial case! Arguably the best kind of case.</p>
<p>We look at the corpus, and we intuitively say that these documents are about either &#8216;dogs&#8217; or &#8216;sandwiches,&#8217; and thus, the number of dimensions in our lower dimensional space should be two. The algorithm that we use to do the dimensionality reduction in this case is called &#8220;<i><a href="http://en.wikipedia.org/wiki/Latent_semantic_indexing">Latent Semantic Indexing</a>,</i>&#8221; generally abbreviated to LSI.</p>
<p>Going into the math that makes LSI work is way beyond the scope of this article, so I&#8217;ll just summarize by saying it uses a technique from linear algebra called <a href="http://en.wikipedia.org/wiki/Singular_value_decomposition">singular value decomposition</a> to reduce the input matrix (your document vectors stacked on top of each other) to one of a lower rank (the number of dimensions you specified). If you didn&#8217;t understand any of what just happened in that last sentence, it&#8217;s totally fine, because <b>gensim</b>&#8216;s done the heavy lifting for us.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d6a372018257" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#Dimensionality reduction using LSI. Go from 6D to 2D.
    print "\n---LSI Model---"
    lsi_docs = {}
    num_topics = 2
    lsi_model = gensim.models.LsiModel(bow_docs.values(),
                                       num_topics=num_topics)
    for name in names:
        vec = bow_docs[name]
        sparse = lsi_model[vec]
        dense = vec2dense(sparse, num_topics)
        lsi_docs[name] = sparse
        print name, ':', dense</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-6">6</div><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-8">8</div><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-10">10</div><div class="crayon-num" data-line="crayon-525096ee86d6a372018257-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d6a372018257-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d6a372018257-1"><span class="crayon-p">#Dimensionality reduction using LSI. Go from 6D to 2D.</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-2">    <span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\n---LSI Model---"</span></div><div class="crayon-line" id="crayon-525096ee86d6a372018257-3">    <span class="crayon-v">lsi_docs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-4">    <span class="crayon-v">num_topics</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span></div><div class="crayon-line" id="crayon-525096ee86d6a372018257-5">    <span class="crayon-v">lsi_model</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">gensim</span><span class="crayon-sy">.</span><span class="crayon-v">models</span><span class="crayon-sy">.</span><span class="crayon-e">LsiModel</span><span class="crayon-sy">(</span><span class="crayon-v">bow_docs</span><span class="crayon-sy">.</span><span class="crayon-e">values</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-6">                                       <span class="crayon-v">num_topics</span><span class="crayon-o">=</span><span class="crayon-i">num_topics</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d6a372018257-7">    <span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">names</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-8">        <span class="crayon-v">vec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bow_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d6a372018257-9">        <span class="crayon-v">sparse</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">lsi_model</span><span class="crayon-sy">[</span><span class="crayon-i">vec</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-10">        <span class="crayon-v">dense</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">vec2dense</span><span class="crayon-sy">(</span><span class="crayon-i">sparse</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">num_topics</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d6a372018257-11">        <span class="crayon-v">lsi_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-i">sparse</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d6a372018257-12">        <span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">dense</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0043 seconds] -->
<p>And here are our simplified 2d vectors&#8230;</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d73977159262" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---LSI Model---
sandwich2.txt : [3.222517, 0.0]
dog2.txt : [0.0, 1.6870012]
dog1.txt : [0.0, 2.4343436]
sandwich1.txt : [2.1483445, 0.0]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d73977159262-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d73977159262-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d73977159262-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d73977159262-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d73977159262-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d73977159262-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">LSI </span><span class="crayon-i">Model</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d73977159262-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">3.222517</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d73977159262-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.6870012</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d73977159262-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2.4343436</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d73977159262-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">2.1483445</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>Look at that. Two-dimensional vectors which represent all the information we care about without having to consider our data in terms of high-dimensional word counts. The actual numbers in the vectors don&#8217;t matter so much as the fact that the first slot is clearly our sandwich topic while the second is our dog topic.</p>
<p>This is probably a good time to reiterate how much training on four samples of data would never, ever, ever work to generate a topic model like LSI for non-trivial data. You&#8217;re also not likely to have outcomes as cut and dry as these, where one topic contributes 100% to a given vector&#8217;s magnitude, while the other contributes nothing.</p>
<h2>Document Similarity</h2>
<p>I&#8217;ve alluded above to the fact that once documents are represented as points in space, we can tell how similar they are by how close they are to each other. Now that we&#8217;re at that point in the process, let&#8217;s go over what it means for points to be &#8220;close&#8221; to each other.</p>
<p>It turns out that there are many different ways of considering how close two points in space are to each other. The most natural one to us is called <i>Euclidean Distance</i>. If I were to draw a straight line between two points, and measure that line, that is the Euclidean distance. To see an example of Euclidean Distance in action refer to <em>Fig. 1.</em> The big red dot represents the document whose closest matches we&#8217;re trying to find. The smaller red dots around it are the most similar documents by the Euclidean distance metric.<i><br />
</i></p>
<p>There are, however, issues with Euclidean distance. In many text processing applications, we care more about the direction of the vector (or the angle from the origin to the point) than its actual location. To demonstrate why we might want to consider the vector in terms of direction rather than magnitude, let&#8217;s consider another toy bag of words example. We consider the following three documents.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d7e231637019" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
doc1 - ['dog','dog','dog','dog','dog','dog']
doc2 - ['dog','dog']
doc3 - ['cat']</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d7e231637019-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d7e231637019-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d7e231637019-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d7e231637019-1"><span class="crayon-i">doc1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d7e231637019-2"><span class="crayon-i">doc2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'dog'</span><span class="crayon-sy">,</span><span class="crayon-s">'dog'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d7e231637019-3"><span class="crayon-i">doc3</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'cat'</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0015 seconds] -->
<p>In their bag of words form:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d87382844851" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
doc1 - [6,0]
doc2 - [2,0]
doc3 - [0,1]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d87382844851-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d87382844851-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d87382844851-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d87382844851-1"><span class="crayon-i">doc1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">6</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d87382844851-2"><span class="crayon-i">doc2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d87382844851-3"><span class="crayon-i">doc3</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Intuitively, we know that in terms of subject matter, <b>doc1</b> and <b>doc2</b> should be more similar to each other than they are to <b>doc3</b>. They are both clearly 100% about dogs, while, <b>doc3</b> is 100% about cats. However, when we take the Euclidean distances between them, we find that the distance between <b>doc2 </b>and <b>doc1 </b>is 4, while the distance between <b>doc2 </b>and <b>doc3</b> is ~2.24. The length of the first document led us to believe that <b>doc2 </b>was more like <b>doc3</b> than it was to <b>doc1</b>.</p>
<p>The fact that document length has nothing to do with what the document is actually about is exactly why we want to downplay the importance of vector magnitude and instead focus on direction. There are a few ways we can accomplish this.</p>
<p>Firstly, we can modify the vectors themselves by dividing each number in each vector by that vector&#8217;s magnitude. In doing so, all our vectors have a magnitude of 1. This process is called <i>unit vectorization</i><b> </b>because the output vectors are units vectors.</p>
<p>The unit vectors make it so that the dog documents are now closest to each other:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d90626529103" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
doc1 - [1,0]
doc2 - [1,0]
doc3 - [0,1]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d90626529103-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d90626529103-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d90626529103-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d90626529103-1"><span class="crayon-i">doc1</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d90626529103-2"><span class="crayon-i">doc2</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86d90626529103-3"><span class="crayon-i">doc3</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0013 seconds] -->
<p>Another technique is to leave the vectors alone and just take the angle between them. Measuring similarity based on angle between vectors is know as <a href="http://en.wikipedia.org/wiki/Cosine_similarity">cosine distance</a>, or <i>cosine similarity</i>. In our example up there, you can see the angle between <b>doc1 </b>and <b>doc2 </b>is 0<b>° </b>because they are pointed in exactly the same direction. On the either hand, the angle between either dog document and <b>doc3 </b>is 90<b>°</b>. 0<b>° </b>is less than 90<b>°</b>, therefore, the dog articles are once again more similar to each other than they are to the one about cats.</p>
<p>Both <i>Euclidean </i>and <i>cosine</i> distance are called <i>distance metrics</i>. A distance metric is simply the formula we provide to an algorithm that will dictate how close we consider two vectors to be to each other. With that bit of theory under our belts, let&#8217;s go back to the code.</p>
<h2>Cosine Distance in Action</h2>
<p>We last left off at transforming our bag of words corpus into two-dimensional topic vectors. At this point, we want to unit vectorize those topic vectors because, again, we care more about the angle of the vector than the magnitude. The reason I&#8217;m using both unit vectorization and cosine distance in this code is twofold. Firstly, it couldn&#8217;t hurt. Second, when we move on to classification, we will be using a model that can only use <i>Euclidean </i>distance (as far as I know).</p>
<p>By unit vectorizing our corpus, we make <i>Euclidean</i> and <i>Cosine</i> distance equivalent in terms of ordering. They will not return the same exact distance for instance (as one is measuring magnitude while the other is measuring angle). However, what they will do is say that if <i>cosine_distance(A,B) &lt; cosine_distance(B,C) </i>then <i>euclidean_distance(A,B) &lt; euclidean_distance(B,C)</i> for all points <i>A,B,C </i>in our corpus. Intuitively, you can think of this as saying &#8220;if two points are closer to each other on the unit circle/sphere/hypersphere, then the angle between them is smaller.&#8221;</p>
<p>Here&#8217;s where the magic happens:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86d9b838943631" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#Normalize LSI vectors by setting each vector to unit length
    print "\n---Unit Vectorization---"

    unit_vecs = {}
    for name in names:

        vec = vec2dense(lsi_docs[name], num_topics)
        norm = sqrt(sum(num ** 2 for num in vec))
        unit_vec = [num / norm for num in vec]
        unit_vecs[name] = unit_vec
        print name, ':', unit_vec</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d9b838943631-2">2</div><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d9b838943631-4">4</div><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d9b838943631-6">6</div><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d9b838943631-8">8</div><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86d9b838943631-10">10</div><div class="crayon-num" data-line="crayon-525096ee86d9b838943631-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86d9b838943631-1"><span class="crayon-p">#Normalize LSI vectors by setting each vector to unit length</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d9b838943631-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\n---Unit Vectorization---"</span></div><div class="crayon-line" id="crayon-525096ee86d9b838943631-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d9b838943631-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">unit_vecs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-525096ee86d9b838943631-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">names</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d9b838943631-6">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86d9b838943631-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">vec2dense</span><span class="crayon-sy">(</span><span class="crayon-v">lsi_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">num_topics</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d9b838943631-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">norm</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">sqrt</span><span class="crayon-sy">(</span><span class="crayon-e">sum</span><span class="crayon-sy">(</span><span class="crayon-e ">num *</span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">num </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">vec</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86d9b838943631-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">unit_vec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-i">num</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-e">norm </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">num </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">vec</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86d9b838943631-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">unit_vecs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">unit_vec</span></div><div class="crayon-line" id="crayon-525096ee86d9b838943631-11"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">unit_vec</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0038 seconds] -->
<p>and here&#8217;s the output:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86da4753897356" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Unit Vectorization---
sandwich2.txt : [1.0, 0.0]
dog2.txt : [0.0, 1.0]
dog1.txt : [0.0, 1.0]
sandwich1.txt : [1.0, 0.0]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86da4753897356-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86da4753897356-2">2</div><div class="crayon-num" data-line="crayon-525096ee86da4753897356-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86da4753897356-4">4</div><div class="crayon-num" data-line="crayon-525096ee86da4753897356-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86da4753897356-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">Unit </span><span class="crayon-i">Vectorization</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86da4753897356-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86da4753897356-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86da4753897356-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">0.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86da4753897356-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1.0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.0</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p>Now what we want to do is illustrate cosine distance correctly matching up documents that should be similar. Without further delay, here&#8217;s the code to do it.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86dad578029086" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#Take cosine distances between docs and show best matches
    print "\n---Document Similarities---"

    index = gensim.similarities.MatrixSimilarity(lsi_docs.values())
    for i, name in enumerate(names):

        vec = lsi_docs[name]
        sims = index[vec]
        sims = sorted(enumerate(sims), key=lambda item: -item[1])

        #Similarities are a list of tuples of the form (doc #, score)
        #In order to extract the doc # we take first value in the tuple
        #Doc # is stored in tuple as numpy format, must cast to int

        if int(sims[0][0]) != i:
            match = int(sims[0][0])
        else:
            match = int(sims[1][0])

        match = names[match]
        print name, "is most similar to...", match</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86dad578029086-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-2">2</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-4">4</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-6">6</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-8">8</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-10">10</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-12">12</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-14">14</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-16">16</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-18">18</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dad578029086-20">20</div><div class="crayon-num" data-line="crayon-525096ee86dad578029086-21">21</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86dad578029086-1"><span class="crayon-p">#Take cosine distances between docs and show best matches</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\n---Document Similarities---"</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">index</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">gensim</span><span class="crayon-sy">.</span><span class="crayon-v">similarities</span><span class="crayon-sy">.</span><span class="crayon-e">MatrixSimilarity</span><span class="crayon-sy">(</span><span class="crayon-v">lsi_docs</span><span class="crayon-sy">.</span><span class="crayon-e">values</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">enumerate</span><span class="crayon-sy">(</span><span class="crayon-i">names</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-6">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dad578029086-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">lsi_docs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sims</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">index</span><span class="crayon-sy">[</span><span class="crayon-i">vec</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sims</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">sorted</span><span class="crayon-sy">(</span><span class="crayon-e">enumerate</span><span class="crayon-sy">(</span><span class="crayon-i">sims</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">key</span><span class="crayon-o">=</span><span class="crayon-e">lambda </span><span class="crayon-i">item</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-10">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dad578029086-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#Similarities are a list of tuples of the form (doc #, score)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#In order to extract the doc # we take first value in the tuple</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#Doc # is stored in tuple as numpy format, must cast to int</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-14">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dad578029086-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">(</span><span class="crayon-v">sims</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">match</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">(</span><span class="crayon-v">sims</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">match</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">int</span><span class="crayon-sy">(</span><span class="crayon-v">sims</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dad578029086-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">match</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">names</span><span class="crayon-sy">[</span><span class="crayon-i">match</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dad578029086-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"is most similar to..."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">match</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0062 seconds] -->
<p>You might be asking yourself where the cosine distance computation happened in that code. <b>gensim</b> features a class called<b> MatrixSimilarity</b> which is a type of <i>index</i>, or a data structure used to efficiently store vectors and data so that when it comes time to make a similarity query, the search to find vectors closest to our query point is much faster than brute force.</p>
<p>The actual query is made when we pick a pick from our corpus (called <b>vec </b>in the code)  and say <code>sims = index[vec]</code>. <b>sims </b>is a list of all points and their distance to the query point (<b>vec</b>). We proceed to sort that list, pull out the closest match, and print it out which yields the following:</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86db8196935977" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Document Similarities---
sandwich2.txt is most similar to... sandwich1.txt
dog2.txt is most similar to... dog1.txt
dog1.txt is most similar to... dog2.txt
sandwich1.txt is most similar to... sandwich2.txt</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86db8196935977-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86db8196935977-2">2</div><div class="crayon-num" data-line="crayon-525096ee86db8196935977-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86db8196935977-4">4</div><div class="crayon-num" data-line="crayon-525096ee86db8196935977-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86db8196935977-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-e">Document </span><span class="crayon-i">Similarities</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86db8196935977-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">most </span><span class="crayon-e">similar </span><span class="crayon-st">to</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-e">txt</span></div><div class="crayon-line" id="crayon-525096ee86db8196935977-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">most </span><span class="crayon-e">similar </span><span class="crayon-st">to</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-e">txt</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86db8196935977-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">most </span><span class="crayon-e">similar </span><span class="crayon-st">to</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-e">txt</span></div><div class="crayon-line" id="crayon-525096ee86db8196935977-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-e">most </span><span class="crayon-e">similar </span><span class="crayon-st">to</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-i">txt</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0027 seconds] -->
<p>Seems reasonable to me. At this point we&#8217;re very close to solving the problem we set out to solve.</p>
<h2>Classification</h2>
<p>Our progress so far answers the question &#8220;<i>which document is this document most similar to?&#8221; </i>The question we ultimately want to answer is <i>&#8220;what is this document about?&#8221; </i>There are different ways to answer that question, including keyword extraction, clustering, and all sorts of other techniques. The one that I like best involves <i>supervised learning</i>, where you train the algorithm on samples which have the &#8220;correct&#8221; answer provided with them.</p>
<p>The specific supervised learning problem we&#8217;re addressing here is called <i>classification</i>. You train an algorithm on labelled descriptor vectors, then ask it to label a previously unseen descriptor vector based on conclusions drawn from the training set. The way we are going to accomplish this in our case is you make use of <i><a href="http://en.wikipedia.org/wiki/Support_vector_machine">support vector machines</a></i>, a family of algorithms which define decision boundaries between classes based on labelled training data.</p>
<p>To give a high-level view of what exactly support vector machines (or SVM&#8217;s for short) do, I&#8217;ll refer back to our points in space. For our &#8216;dog&#8217; vs. &#8216;sandwich&#8217; classification problem, we provide the algorithm with some training samples. These samples are documents which have gone through our whole process (BoW vector -&gt; topic vector -&gt; unit vector) and carry with them either a &#8216;dog&#8217; label or a &#8216;sandwich&#8217; label. As you provide the SVM model with these samples, it looks at these points in space and essentially draws a line between the &#8216;sandwich&#8217; documents and the &#8216;dog&#8217; documents. This border between &#8220;dog&#8221;-land and &#8220;sandwich&#8221;-land is known as a <i>decision boundary</i>. Whichever side of the line the query point falls on determines what the algorithm labels it.</p>
<h2>The Final Step</h2>
<p>Time to build our SVM, train it, and test it.</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86dc3769151801" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#We add classes to the mix by labelling dog1.txt and sandwich1.txt
    #We use these as our training set, and test on all documents.
    print "\n---Classification---"

    dog1 = unit_vecs['dog1.txt']
    sandwich1 = unit_vecs['sandwich1.txt']

    train = [dog1, sandwich1]

    # The label '1' represents the 'dog' category
    # The label '2' represents the 'sandwich' category

    label_to_name = dict([(1, 'dogs'), (2, 'sandwiches')])
    labels = [1, 2]
    classifier = SVC()
    classifier.fit(train, labels)

    for name in names:

        vec = unit_vecs[name]
        label = classifier.predict([vec])[0]
        cls = label_to_name[label]
        print name, 'is a document about', cls

    print '\n'</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-2">2</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-4">4</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-6">6</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-8">8</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-10">10</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-12">12</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-14">14</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-16">16</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-18">18</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-20">20</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-22">22</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dc3769151801-24">24</div><div class="crayon-num" data-line="crayon-525096ee86dc3769151801-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86dc3769151801-1"><span class="crayon-p">#We add classes to the mix by labelling dog1.txt and sandwich1.txt</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#We use these as our training set, and test on all documents.</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">"\n---Classification---"</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-4">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dc3769151801-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">dog1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">unit_vecs</span><span class="crayon-sy">[</span><span class="crayon-s">'dog1.txt'</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">sandwich1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">unit_vecs</span><span class="crayon-sy">[</span><span class="crayon-s">'sandwich1.txt'</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">train</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-i">dog1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">sandwich1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># The label '1' represents the 'dog' category</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># The label '2' represents the 'sandwich' category</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-12">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dc3769151801-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">label_to_name</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">dict</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'dogs'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'sandwiches'</span><span class="crayon-sy">)</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">labels</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">classifier</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">SVC</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">fit</span><span class="crayon-sy">(</span><span class="crayon-i">train</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">labels</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">name </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-i">names</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">vec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">unit_vecs</span><span class="crayon-sy">[</span><span class="crayon-i">name</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">label</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">classifier</span><span class="crayon-sy">.</span><span class="crayon-e">predict</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-i">vec</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">cls</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">label_to_name</span><span class="crayon-sy">[</span><span class="crayon-i">label</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-525096ee86dc3769151801-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-i">name</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'is a document about'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">cls</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dc3769151801-24">&nbsp;</div><div class="crayon-line" id="crayon-525096ee86dc3769151801-25"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-s">'\n'</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0059 seconds] -->
<p>And the end result of all of this code is&#8230;</p><!-- Crayon Syntax Highlighter v2.3.1 -->

		<div id="crayon-525096ee86dce922037712" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; float: none; clear: both; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="off" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
---Classification---
sandwich2.txt is a document about sandwiches
dog2.txt is a document about dogs
dog1.txt is a document about dogs
sandwich1.txt is a document about sandwiches</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-525096ee86dce922037712-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dce922037712-2">2</div><div class="crayon-num" data-line="crayon-525096ee86dce922037712-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-525096ee86dce922037712-4">4</div><div class="crayon-num" data-line="crayon-525096ee86dce922037712-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-line" id="crayon-525096ee86dce922037712-1"><span class="crayon-o">--</span><span class="crayon-o">-</span><span class="crayon-i">Classification</span><span class="crayon-o">--</span><span class="crayon-o">-</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dce922037712-2"><span class="crayon-v">sandwich2</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">document </span><span class="crayon-e">about </span><span class="crayon-e">sandwiches</span></div><div class="crayon-line" id="crayon-525096ee86dce922037712-3"><span class="crayon-v">dog2</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">document </span><span class="crayon-e">about </span><span class="crayon-e">dogs</span></div><div class="crayon-line crayon-striped-line" id="crayon-525096ee86dce922037712-4"><span class="crayon-v">dog1</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">document </span><span class="crayon-e">about </span><span class="crayon-e">dogs</span></div><div class="crayon-line" id="crayon-525096ee86dce922037712-5"><span class="crayon-v">sandwich1</span><span class="crayon-sy">.</span><span class="crayon-e">txt </span><span class="crayon-st">is</span><span class="crayon-h"> </span><span class="crayon-i">a</span><span class="crayon-h"> </span><span class="crayon-e">document </span><span class="crayon-e">about </span><span class="crayon-i">sandwiches</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p>Voila, we&#8217;ve successfully answered the question we set out to solve! This part of the code is where we take advantage of <b>scikit-learn</b> to do all the SVM-related heavy lifting for us. I constructed a training set out of two of the documents by manually labeling them &#8216;dog,&#8217; and &#8216;sandwich,&#8217; then correctly classified all four documents.</p>
<h2>Cross-Validation</h2>
<p>As a result of the simplicity of our example, we have done a big no-no in &#8220;testing&#8221; our algorithm, which is to train and test on what essentially ended up becoming the same data. In reality, your dataset would be much more varied and numerous than our toy example and you would test your data by partitioning it into a <i>training set</i> and a <i>test set</i>.</p>
<p>All samples in both training and test sets are labeled. However, in practice, you would build the model on the labeled training set, ignore the labels on the test set, feed them into the model, have the model guess what those labels are, and finally check whether or not the algorithm guessed correctly. This process of testing out your supervised learning algorithm with a training and test set is called <a href="http://en.wikipedia.org/wiki/Cross-validation_(statistics)">cross-validation</a>.</p>
<h2>A Quick Reality Check</h2>
<p>So you&#8217;ve read through the article, understand everything that&#8217;s going on, but sense there&#8217;s something missing. I&#8217;ve pointed out several times that this example has been simplified to the point of triviality for the sake of demonstrating the most important aspects of the algorithm which might otherwise get lost in the details. How do you take this framework we&#8217;ve run through and apply it to something practical?</p>
<p>As usual, the devil&#8217;s in the details. I can&#8217;t spell out the entire process out for you (otherwise this article would be the size of a textbook), but I can list for you the questions you&#8217;ll need to answer in order to make any such machine learning application work. Hopefully research, experimentation, and intuition will take you the rest of the way.</p>
<h3>First questions you should ask yourself</h3>
<ul>
<li>What is the problem I&#8217;m trying to solve?</li>
<li>What do I want to learn from my data? How will my findings be actionable?</li>
<li>What tools exist that can help me solve this problem?</li>
</ul>
<p><em>I can&#8217;t stress enough how important these first few questions are. The answers to these questions should drive every design decision you make. It&#8217;s all too easy to get caught up in all of the awesome algorithms and techniques out there in this field, and get completely distracted from your end goal. That being said, there is obviously a place for playing around, exploring, and experimenting. Just be sure you always keep the problem you&#8217;re trying to solve in mind. Anyhow&#8230; back to the list!</em></p>
<h3>Preprocessing</h3>
<ul>
<li>Where do I find a corpus?</li>
<li>How do I extract text from web pages in a scalable/generalizable way <i>(if using a corpus from the web)</i></li>
<li>How do I split my text into individual words and extract the roots of those words?</li>
<li>How do I build my vocabulary?</li>
<li>Which words do I filter out?</li>
</ul>
<h3>Vector Space Model</h3>
<ul>
<li>What sort of normalization does the problem call for?</li>
<li>Which distance metric makes sense for the problem at hand?</li>
</ul>
<h3>Dimensionality Reduction</h3>
<ul>
<li>How do I pick how many dimensions I ultimately want to be working with?</li>
</ul>
<h3>Machine learning</h3>
<ul>
<li>Am I solving a supervised or an unsupervised learning problem?</li>
<li>Which model/algorithm makes sense for the problem at hand?</li>
</ul>
<h3>Testing</h3>
<ul>
<li>How do I gauge how well my algorithm is doing?</li>
<li>Is it enough just to look at accuracy?</li>
<li>Should I consider precision/recall?</li>
<li>Are my classes of equal sizes, or does one dominate the other? How do I remedy this?</li>
<li>Are my training/test datasets actually representative of what my algorithm will encounter in every day use?</li>
</ul>
<p>If you take anything out of this article, it should be that useful applications of machine learning are all about the decisions you make. There are countless algorithms and techniques to choose from, but they are only as useful as your application of them. Identify the problem you&#8217;re solving, experiment with solutions, understand where there might be shortcomings in those solutions and remedy them when possible.</p>
<!-- SimpleReach Analytics Plugin Version: 0.0.1 -->
<script type='text/javascript' id='simplereach-analytics-tag'>
    __reach_config = {
      pid: '50044718a782f317d8000030',
      title: 'Teaching a Computer to Read:',
      url: 'http://blog.scripted.com/staff/nlp-hacking-in-python/',
      date: '2013-09-26 16:36:18',
      authors: ['Murad'],
      channels: ['dev','staff'],
      tags: []
    };
    (function(){
      var s = document.createElement('script');
      s.async = true;
      s.type = 'text/javascript';
      s.src = document.location.protocol + '//simple-cdn.s3.amazonaws.com/js/reach.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(s);
    })();
</script>							<div class="clear"></div>
						</div><!-- .entry-content -->
						<footer class="entry-utility">
																							<div class="social-bookmarks">
			<p>Did you like this article? Share it with your friends!</p>
							<div class="facebook-like">
					<div id="fb-root"></div>
					<script>
						(function(d, s, id) {
							var js, fjs = d.getElementsByTagName(s)[0];
							if (d.getElementById(id)) return;
							js = d.createElement(s); js.id = id;
							js.src = "//connect.facebook.net/en_US/all.js#xfbml=1";
							fjs.parentNode.insertBefore(js, fjs);
						}(document, 'script', 'facebook-jssdk'));
					</script>
					<div class="fb-like" data-href="http://blog.scripted.com/staff/nlp-hacking-in-python/" data-send="false" data-layout="button_count" data-width="110" data-show-faces="false" data-font="arial"></div>
				</div><!-- .facebook-like -->
										<div class="twitter-button">
					<a href="https://twitter.com/share" class="twitter-share-button" data-url="http://blog.scripted.com/staff/nlp-hacking-in-python/">Tweet</a>
					<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
				</div><!-- .twitter-button -->
										<div class="google-plusone">
					<div class="g-plusone" data-size="medium" data-href="http://blog.scripted.com/staff/nlp-hacking-in-python/"></div>
					<script type="text/javascript">
						(function() {
							var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
							po.src = 'https://apis.google.com/js/plusone.js';
							var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
						})();
					</script>
				</div><!-- .google-plusone -->
									<div class="clear"></div>
		</div><!-- .social-bookmarks -->
										<div class="entry-author">
			<img alt='' src='http://1.gravatar.com/avatar/d7fbe87ff1726cd22e5ab5b74d73c5e1?s=96&amp;d=http%3A%2F%2F1.gravatar.com%2Favatar%2Fad516503a11cd5ca435acc9bb6523536%3Fs%3D96&amp;r=G' class='avatar avatar-96 photo' height='96' width='96' />			<h3 class="author vcard">Written by <span class="fn"><a href="http://blog.scripted.com/author/murad/" title="Posts by Murad" rel="author">Murad</a></span></h3>
			<p class="author-bio"></p>
			<div class="clear"></div>
		</div><!-- .entry-author -->
							</footer><!-- .entry-utility -->
					</div><!-- .entry -->
                                        
                                        <div class="permostionBOx">
                                                <div class="permostionBOxImg">
                                                <img alt="" src="http://blog.scripted.com/wp-content/uploads/2013/09/script_box_logo.png">
                                            </div>
                                            <div class="permostionBOxText">
                                                <h3>About Scripted</h3>
                                                                                                <p><i><a href="https://www.scripted.com">Scripted</a> is a content writing service that focuses on creating high quality written content at scale.  To learn more, visit <a href="https://www.scripted.com">Scripted.com</a> or contact us at sales@scripted.com.</i></p>
                                            </div>
                                            <div class="clear clr"></div>
                                        </div>
                                        
					

								<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/staff/nlp-hacking-in-python/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://blog.scripted.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" /></p>
												<div id="wp-comment-wrap" class="wp-core-ui wp-editor-wrap html-active"><link rel='stylesheet' id='editor-buttons-css'  href='http://blog.scripted.com/wp-includes/css/editor.min.css?ver=3.6.1' type='text/css' media='all' />
<div id="wp-comment-editor-container" class="wp-editor-container"><textarea class="wp-editor-area" rows="20" cols="40" name="comment" id="comment"></textarea></div>
</div>

						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; &lt;pre class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; &lt;span class=&quot;&quot; title=&quot;&quot; data-url=&quot;&quot;&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='1983' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="13482743c0" /></p>					</form>
							</div><!-- #respond -->
										</article><!-- .post -->
					</section><!-- #content -->
					<div id="sidebar" class="column threecol">
				<div class="column twocol">
		<div id="sidebar-right" class="widget-area" role="complementary">
			<div class="column onecol"><aside id="text-3" class="widget widget_text"><h3 class="widget-title">Company</h3>			<div class="textwidget"><br><a href="https://scripted.com">Scripted.com</a></div>
		</aside><!-- .widget --></div><div class="column onecol"><aside id="sendy_widget-2" class="widget widget_sendy_widget"><h3 class="widget-title"> Subscribe to Scripted</h3>
                   <script type="text/javascript">


                       function validate_sendy_form(){

                             var email_id=document.getElementById('subscriber-email').value;

                             var filter = /^\s*[\w\-\+_]+(\.[\w\-\+_]+)*\@[\w\-\+_]+\.[\w\-\+_]+(\.[\w\-\+_]+)*\s*$/;

                             valid= String(email_id).search (filter) != -1;

                            if(!valid){

                                alert('Please enter a valid email address');

                                return false;
                            }
                            else{
                                return true;
                            }
                       }


                </script>

                <form id="subscribe-form" onsubmit="return  validate_sendy_form()" action="http://sendy.scripted.com/subscribe" method="POST" accept-charset="utf-8">
                                      <label for="name">Name</label><br/>
                    <input type="text" name="name" id="subscriber-name"/>
                    <br/>
                                        <label for="email">Email</label><br/>
                    <input type="text" name="email" id="subscriber-email"/>
                    <br/>
                    <div> <input type="hidden" class="list" name="list" value="DABctdwDPP0V0V6tsZ51Aw"/> </div>

                    <input type="submit" name="sub-submit" value="Subscribe"  id="sub-submit"/>
                    <div class="resp"></div>
                </form>




	</aside><!-- .widget --></div><div class="column onecol"><aside id="search-2" class="widget widget_search"></aside><!-- .widget --></div><div class="column onecol"><aside id="categories-2" class="widget widget_categories"><h3 class="widget-title">Categories</h3>		<ul>
	<li class="cat-item cat-item-255"><a href="http://blog.scripted.com/category/content-marketing-2/advertising/" title="View all posts filed under Advertising">Advertising</a> (1)
</li>
	<li class="cat-item cat-item-81"><a href="http://blog.scripted.com/category/content-marketing-2/adwords/" title="View all posts filed under Adwords">Adwords</a> (1)
</li>
	<li class="cat-item cat-item-52"><a href="http://blog.scripted.com/category/content-marketing-2/business-strategy/" title="View all posts filed under Business Strategy">Business Strategy</a> (13)
</li>
	<li class="cat-item cat-item-252"><a href="http://blog.scripted.com/category/content-marketing-2/content-planning/" title="View all posts filed under Content Planning">Content Planning</a> (2)
</li>
	<li class="cat-item cat-item-21"><a href="http://blog.scripted.com/category/content-marketing-2/content-strategy/" title="View all posts filed under Content Strategy">Content Strategy</a> (15)
</li>
	<li class="cat-item cat-item-55"><a href="http://blog.scripted.com/category/staff/dev/" title="The Scripted Dev Blog">Development</a> (16)
</li>
	<li class="cat-item cat-item-49"><a href="http://blog.scripted.com/category/content-marketing-2/email-marketing/" title="View all posts filed under Email Marketing">Email Marketing</a> (3)
</li>
	<li class="cat-item cat-item-258"><a href="http://blog.scripted.com/category/staff/events/" title="View all posts filed under Events">Events</a> (2)
</li>
	<li class="cat-item cat-item-117"><a href="http://blog.scripted.com/category/content-marketing-2/guest/" title="View all posts filed under Guest Post">Guest Post</a> (1)
</li>
	<li class="cat-item cat-item-54"><a href="http://blog.scripted.com/category/staff/hr/" title="View all posts filed under HR">HR</a> (1)
</li>
	<li class="cat-item cat-item-53"><a href="http://blog.scripted.com/category/staff/marketplaces/" title="View all posts filed under Marketplaces">Marketplaces</a> (1)
</li>
	<li class="cat-item cat-item-254"><a href="http://blog.scripted.com/category/content-marketing-2/measurement/" title="View all posts filed under Measurement">Measurement</a> (1)
</li>
	<li class="cat-item cat-item-256"><a href="http://blog.scripted.com/category/content-marketing-2/news/" title="View all posts filed under News">News</a> (3)
</li>
	<li class="cat-item cat-item-82"><a href="http://blog.scripted.com/category/content-marketing-2/online-marketing/" title="View all posts filed under Online Marketing">Online Marketing</a> (11)
</li>
	<li class="cat-item cat-item-257"><a href="http://blog.scripted.com/category/partnerships/" title="View all posts filed under Partnerships">Partnerships</a> (1)
</li>
	<li class="cat-item cat-item-165"><a href="http://blog.scripted.com/category/content-marketing-2/social-media-2/" title="View all posts filed under Social Media">Social Media</a> (12)
</li>
	<li class="cat-item cat-item-4"><a href="http://blog.scripted.com/category/staff/" title="View all posts filed under Staff">Staff</a> (53)
</li>
	<li class="cat-item cat-item-22"><a href="http://blog.scripted.com/category/content-marketing-2/tips-and-tricks/" title="View all posts filed under Tips and Tricks">Tips and Tricks</a> (2)
</li>
	<li class="cat-item cat-item-220"><a href="http://blog.scripted.com/category/staff/tips-with-using-scripted/" title="View all posts filed under Tips with Using Scripted">Tips with Using Scripted</a> (5)
</li>
	<li class="cat-item cat-item-1"><a href="http://blog.scripted.com/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a> (5)
</li>
	<li class="cat-item cat-item-23"><a href="http://blog.scripted.com/category/writers/" title="Scripted Writers we have invited to contribute to the blog.">Writers</a> (117)
</li>
		</ul>
</aside><!-- .widget --></div>		</div><!-- #sidebar-right -->
	</div><!-- .twocol -->
	</div><!-- #sidebar -->			</div><!-- #container -->
</div><!-- #wrapper -->	
        <div id="press">
          <header>PEOPLE LOVE US…</header>
        </div>
                 		<footer>
                    <div class="container">
						<div class="row">
                            <div class="span12">
                              <div class="row">
                                <div class="span6">
                                  <div id="logo"> <a href="https://scripted.com/" style="color: #fff">Scripted</a> </div>
                                  <section class="links"> <a href="https://scripted.com/learn">LEARN MORE</a> <a href="https://scripted.com/pricing">PRICING</a> <a href="https://scripted.com/about">ABOUT</a> <a href="https://scripted.com/contact">CONTACT</a> <a href="https://scripted.com/careers">CAREERS</a> <a href="https://scripted.com/investors">INVESTORS</a> </section>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <footer>
                          <div class="container">
                            <div class="row">
                              <div class="span4">
                                <div class="copyright">© 2013 Scripted, Inc. All rights reserved.</div>
                              </div>
                              <div class="span8"> <a rel="twitter" href="https://twitter.com/getscripted">@GETSCRIPTED</a> <a rel="facebook" href="https://www.facebook.com/getscripted">FACEBOOK</a> <span style="font-size:80%"><a href="https://scripted.com/terms">TERMS</a> <a href="https://scripted.com/agreement">AGREEMENT</a> <a href="https://scripted.com/privacy">PRIVACY POLICY</a> <a href="https://scripted.com/api">API</a></span> </div>
                            </div>
                          </div>
                        </footer>
                    </div>
		</footer><!-- #footer -->
	


<!-- START Parse.ly Include: Standard -->
<div id="parsely-root" style="display: none">
  <div id="parsely-cfg" data-parsely-site="Scripted.com"></div>
</div>
<script>
(function(s, p, d) {
  var h=d.location.protocol, i=p+"-"+s,
      e=d.getElementById(i), r=d.getElementById(p+"-root"),
      u=h==="https:"?"d1z2jf7jlzjs58.cloudfront.net"
      :"static."+p+".com";
  if (e) return;
  e = d.createElement(s); e.id = i; e.async = true;
  e.src = h+"//"+u+"/p.js"; r.appendChild(e);
})("script", "parsely", document);
</script>
<!-- END Parse.ly Include: Standard -->

<link rel='stylesheet' id='wp-jquery-ui-dialog-css'  href='http://blog.scripted.com/wp-includes/css/jquery-ui-dialog.min.css?ver=3.6.1' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var wordCountL10n = {"type":"w"};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.scripted.com/wp-admin/js/word-count.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.core.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.widget.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.mouse.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.resizable.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.draggable.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.button.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.position.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/jquery/ui/jquery.ui.dialog.min.js?ver=1.10.3'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/tinymce/plugins/wpdialogs/js/wpdialog.min.js?ver=3.6.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var wpLinkL10n = {"title":"Insert\/edit link","update":"Update","save":"Add Link","noTitle":"(no title)","noMatchesFound":"No matches found."};
/* ]]> */
</script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/wplink.min.js?ver=3.6.1'></script>
<script type='text/javascript' src='http://blog.scripted.com/wp-includes/js/tinymce/plugins/wpdialogs/js/popup.min.js?ver=3.6.1'></script>

	<script type="text/javascript">
		tinyMCEPreInit = {
			base : "",
			suffix : "",
			query : "ver=358-25336",
			mceInit : {},
			qtInit : {'comment':{id:"comment",buttons:"strong,em,link,block,del,ins,img,ul,ol,li,code,more,close"}},
			ref : {plugins:"",theme:"advanced",language:""},
			load_ext : function(url,lang){var sl=tinymce.ScriptLoader;sl.markDone(url+'/langs/'+lang+'.js');sl.markDone(url+'/langs/'+lang+'_dlg.js');}
		};
	</script>

	<script type="text/javascript">
		var wpActiveEditor;

		(function(){
			var init, ed, qt, first_init, DOM, el, i, mce = 0;

			if ( typeof(tinymce) == 'object' ) {
				DOM = tinymce.DOM;
				// mark wp_theme/ui.css as loaded
				DOM.files[tinymce.baseURI.getURI() + '/themes/advanced/skins/wp_theme/ui.css'] = true;

				DOM.events.add( DOM.select('.wp-editor-wrap'), 'mousedown', function(e){
					if ( this.id )
						wpActiveEditor = this.id.slice(3, -5);
				});

				for ( ed in tinyMCEPreInit.mceInit ) {
					if ( first_init ) {
						init = tinyMCEPreInit.mceInit[ed] = tinymce.extend( {}, first_init, tinyMCEPreInit.mceInit[ed] );
					} else {
						init = first_init = tinyMCEPreInit.mceInit[ed];
					}

					if ( mce )
						try { tinymce.init(init); } catch(e){}
				}
			} else {
				if ( tinyMCEPreInit.qtInit ) {
					for ( i in tinyMCEPreInit.qtInit ) {
						el = tinyMCEPreInit.qtInit[i].id;
						if ( el )
							document.getElementById('wp-'+el+'-wrap').onmousedown = function(){ wpActiveEditor = this.id.slice(3, -5); }
					}
				}
			}

			if ( typeof(QTags) == 'function' ) {
				for ( qt in tinyMCEPreInit.qtInit ) {
					try { quicktags( tinyMCEPreInit.qtInit[qt] ); } catch(e){}
				}
			}
		})();
		var ajaxurl = "/wp-admin/admin-ajax.php";		</script>
			<div style="display:none;">
	<form id="wp-link" tabindex="-1">
	<input type="hidden" id="_ajax_linking_nonce" name="_ajax_linking_nonce" value="ed1acf67b8" />	<div id="link-selector">
		<div id="link-options">
			<p class="howto">Enter the destination URL</p>
			<div>
				<label><span>URL</span><input id="url-field" type="text" name="href" /></label>
			</div>
			<div>
				<label><span>Title</span><input id="link-title-field" type="text" name="linktitle" /></label>
			</div>
			<div class="link-target">
				<label><input type="checkbox" id="link-target-checkbox" /> Open link in a new window/tab</label>
			</div>
		</div>
				<p class="howto toggle-arrow " id="internal-toggle">Or link to existing content</p>
		<div id="search-panel" style="display:none">
			<div class="link-search-wrapper">
				<label>
					<span class="search-label">Search</span>
					<input type="search" id="search-field" class="link-search-field" autocomplete="off" />
					<span class="spinner"></span>
				</label>
			</div>
			<div id="search-results" class="query-results">
				<ul></ul>
				<div class="river-waiting">
					<span class="spinner"></span>
				</div>
			</div>
			<div id="most-recent-results" class="query-results">
				<div class="query-notice"><em>No search term specified. Showing recent items.</em></div>
				<ul></ul>
				<div class="river-waiting">
					<span class="spinner"></span>
				</div>
			</div>
		</div>
	</div>
	<div class="submitbox">
		<div id="wp-link-update">
			<input type="submit" value="Add Link" class="button-primary" id="wp-link-submit" name="wp-link-submit">
		</div>
		<div id="wp-link-cancel">
			<a class="submitdelete deletion" href="#">Cancel</a>
		</div>
	</div>
	</form>
	</div>
	
</body>
</html>